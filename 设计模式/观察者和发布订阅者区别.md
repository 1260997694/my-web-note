# 观察者模式和发布订阅者模式区别

![观察者模式和发布订阅者模式区别](https://user-gold-cdn.xitu.io/2018/5/9/163442ec1d6573c9?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)
*[图片来源](https://juejin.im/post/5af05d406fb9a07a9e4d2799)*
## 观察者模式理解
一个对象（称为主体subject）维持一系列依赖于它的对象（称为观察者observer），将有关状态的任何变更自动通知给它们（观察者）。  

通俗点讲：有一个主体对象，这个对象里面存着很多观察者，对象有什么变化，就统一告诉观察者。  

例子：一个老师（主体subject），他有一班的学生（维持一堆观察者），老师说交作业啦（通知交作业），然后学生统一交作业。

## 发布订阅者模式理解
基于一个主题/事件通道，希望接收通知的对象（称为订阅者subscriber）通过自定义事件订阅主题，激活事件的对象（称为发布者publisher）通过发布主题事件的方式来通知订阅者。  

通俗点讲：有一个中间介质（主题/事件通道），订阅者可以订阅这个主题，并自定义当这个主题发布时，它要做什么（事件）；而发布者主要发布这个主题，从而触发订阅者自定义的事件。  

例子：手机的日历提醒功能。中间介质：手机的日历软件。订阅者：用户，比如小明设置提醒早上八点去打球，小强设置提醒早上八点去跑步，他们都是订阅了早上八点提醒这个主题，但是自定义的事不一样。发布者：手机日历的后台，早上八点它会发送提醒（发布主题）。

## 区别
观察者模式要求必须订阅状态改变的事件，定义一对多的依赖关系。比如学生要知道交作业的通知，老师和学生一对多。发布订阅者模式有一个主题/事件通道，介于订阅和发布者之间。比如手机日历软件。  

观察者模式中观察者接收到通知后做的事是一样的，比如学生接收到交作业通知后都去交作业。发布订阅者模式，订阅者可以在主题发布时做不同的事，比如小明去打球，小强去跑步。  

耦合度方面观察者模式比较高。

## 参考
[不好意思，观察者模式跟发布订阅模式就是不一样](https://juejin.im/post/5af05d406fb9a07a9e4d2799)  
