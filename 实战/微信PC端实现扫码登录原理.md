# 微信扫码登录原理解析

## 微信扫码登录过程：
用户在浏览器端访问网页：`https://wx.qq.com/` 页面中出现一个二维码

用户拿着已经登录成功的移动终端（手机）扫码该二维码

浏览器中获取到了移动终端已经登录的账号信息（包括头像），并且进行了显示

在手机端点击确定登录，浏览器端登录网页版微信成功，可以进行信息交互


## 扫码登录过程解析：
在第一小节中，给出了微信扫码登录的过程，以下详细阐述在各个过程中都发生了什么。

步骤一：当打开`https://wx.qq.com/ `时，其实是浏览器与微信服务器建立了一个连接。二维码中包含一个可唯一识别的字符串，称为uuid（注意，不是uid ,user id 因为此时的二维码并没有用户的任何信息）。二维码其实是一个链接，当我们使用其它扫码工具进行解析时，可以得到类似以下这样的链接：

`https://login.weixin.qq.com/l/AfZJf7-ioA==`
`https://login.weixin.qq.com/l/QcanFWS4hQ== `

后边的就是唯一识别码uuid，其实这是一个登陆请求链接。


步骤二：当一个可以与微信服务器进行交互的（已经登录）的客户端扫码该二维码时，客户端获得了该二维码中的uuid，并且与自身的账号进行绑定。

步骤三：浏览器端获取了客户端已经登录的账号信息，并且进行显示（头像），继续等待客户端点击确认登录

步骤四：客户端点击确认登录，将uuid+账号信息发送到微信服务器，微信服务器收到之后根据uuid找到该浏览器端的访问请求页面并且给出了访问令牌Token，随后网页版微信登录成功，可以进行信息交互了。
